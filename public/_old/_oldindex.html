<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Scegli Utente - Fanteex</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <h1>Scegli il tuo utente</h1>
  <select id="userSelect"></select>
  <button id="confermaBtn">Conferma</button>

  <script>
    window.addEventListener("DOMContentLoaded", async () => {
      const response = await fetch("/users");
      const users = await response.json();
      const select = document.getElementById("userSelect");
      select.innerHTML = "";
      users.forEach(u => {
        const opt = document.createElement("option");
        opt.value = u.user_id;
        opt.textContent = u.username;
        select.appendChild(opt);
      });
    });

    document.getElementById("confermaBtn").addEventListener("click", () => {
      const userId = document.getElementById("userSelect").value;
      if (!userId) {
        alert("Seleziona un utente!");
        return;
      }
      // Andiamo alla landing page dell'utente scelto
      window.location.href = `/user-landing.html?user=${userId}`;
    });
  </script>
</body>
</html>
